{% extends 'base.html.twig' %}
{% block lastTest %}
<div class="test">





</div>




<script>
    {#var question = '{{ json| raw}}';#}
    {#question = JSON.parse(question);#}
    {#console.log(question[0].question);#}
    var jsonArray = '{{ json| raw}}';
    var obj =JSON.parse(jsonArray);

    var testSelector = document.querySelector('.test');








    for (var i = 0; i<obj.length; i++)
    {
        var questionSelector = document.createElement('div');
        var question = obj[i].question;
        questionSelector.textContent = question;
        questionSelector.id = i;
        testSelector.appendChild(questionSelector);
        var answers = obj[i].answers;
        console.log(answers);


        for(answer in answers)
        {
          var answercheckbox = document.createElement('input');
          answercheckbox.type = 'checkbox';

          var answerText = document.createElement('span');

          answerText.textContent = answers[answer][0];
          testSelector.appendChild(answerText);
          answercheckbox.value = answers[answer][2];
          testSelector.appendChild(answercheckbox);

        }
        console.log(testSelector);

    }



</script>




{% endblock %}